<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>문의하기 | 스마트코아솔루션</title>
  <meta name="description" content="스마트코아솔루션 문의 페이지">
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#0a487c">
  <link rel="icon" href="/icons/icon-192.png">
  <link rel="stylesheet" href="/styles.css">
  <style>
    .contact-wrap{max-width:760px;margin:0 auto}
    .contact-title{font-size:28px;font-weight:800;color:#223;border-bottom:3px solid #e2eef8;padding-bottom:8px;margin-bottom:18px}
    .field{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}
    .field input,.field textarea{padding:12px 14px;border:1px solid #d6e2ef;border-radius:10px;font-size:15px}
    .field textarea{min-height:140px;resize:vertical}
    .help{font-size:12px;color:#5b6b7a}
    .contact-info{margin-top:14px;color:#3d5874;line-height:1.7}
    .error{color:#b00020;font-size:13px;margin-top:4px;display:none}
    .ok{color:#0a7a3e;font-size:14px;display:none}
  </style>
</head>
<body>
  <nav>
    <div class="nav-inner">
      <div class="brand">
        <a href="/"><img src="/icons/icon-192.png" alt="SCS"></a>
        <div class="title">문의하기</div>
      </div>
      <div class="menu">
        <a href="/">홈</a>
        <a href="/healthcare.html">헬스케어</a>

      </div>
    </div>
  </nav>

  <section class="section container contact-wrap">
    <div class="contact-title">문의하기</div>

    <form id="contactForm" onsubmit="return handleSubmit(event)">
      <div class="field">
        <input type="text" id="name" name="name" placeholder="이름" autocomplete="name" required>
        <div id="nameErr" class="error">이름을 입력해 주세요.</div>
      </div>
      <div class="field">
        <input type="email" id="email" name="email" placeholder="이메일" autocomplete="email" required>
        <div id="emailErr" class="error">올바른 이메일 주소를 입력해 주세요.</div>
      </div>
      <div class="field">
        <textarea id="message" name="message" placeholder="메시지" required></textarea>
        <div id="msgErr" class="error">메시지를 입력해 주세요.</div>
      </div>
      
      <!-- 자동 저장 제어 버튼 -->
      <div class="auto-save-controls" style="margin-bottom: 16px; padding: 12px; background: #f8f9fa; border-radius: 8px; border: 1px solid #e9ecef;">
        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
          <span style="font-size: 14px; font-weight: 500; color: #495057;">자동 저장</span>
          <button type="button" id="toggleAutoSave" class="button small" onclick="toggleAutoSaveUI()" style="font-size: 12px; padding: 4px 8px;">
            비활성화
          </button>
          <button type="button" class="button small ghost" onclick="clearAutoSaveData()" style="font-size: 12px; padding: 4px 8px;">
            저장 내용 삭제
          </button>
        </div>
        <div style="font-size: 12px; color: #6c757d;">
          입력 중인 내용이 자동으로 저장됩니다. 페이지를 새로고침해도 작성 내용이 유지됩니다.
        </div>
      </div>
      
      <button class="button" type="submit">메시지 보내기</button>
      <div id="okMsg" class="ok">메일 작성 창으로 이동합니다. 전송 전 내용을 확인해 주세요.</div>
    </form>

    <div class="contact-info">
      <div><strong>이메일</strong>: <a href="mailto:jangck11@smartcoresolution.com">jangck11@smartcoresolution.com</a></div>
      <div><strong>FAX</strong>: 0504-081-2473</div>
      <div><strong>주소</strong>: 08798 서울시 관악구 낙성대역 14길 39, 309호</div>
    </div>

    <p class="help">※ 정적 호스팅(GitHub Pages 등)에서는 메일 전송 서버가 없으므로, 현재 페이지는 사용자의 메일 클라이언트를 통해 전송합니다.
      필요시 FormSubmit/Formspree 같은 폼 백엔드 연동도 지원해 드립니다.</p>
  </section>

  <footer class="footer">
    <div class="container">SmartCoreSolution, Inc. © 2025</div>
  </footer>

  <script>
    function handleSubmit(e){
      e.preventDefault();
      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const message = document.getElementById('message').value.trim();
      let valid = true;

      const emailRe = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      document.getElementById('nameErr').style.display = name ? 'none':'block';
      document.getElementById('emailErr').style.display = emailRe.test(email) ? 'none':'block';
      document.getElementById('msgErr').style.display = message ? 'none':'block';
      valid = name && emailRe.test(email) && message;
      if(!valid) return false;

      // Compose mailto to open user's email client
      const subject = encodeURIComponent('[문의] 스마트코아솔루션 홈페이지');
      const body = encodeURIComponent(`이름: ${name}\n이메일: ${email}\n\n메시지:\n${message}`);
      const to = 'jangck11@smartcoresolution.com';
      const mailto = `mailto:${to}?subject=${subject}&body=${body}`;
      document.getElementById('okMsg').style.display='block';
      window.location.href = mailto;
      return false;
    }
    
    // 자동 저장 UI 제어 함수들
    function toggleAutoSaveUI() {
      const isEnabled = toggleAutoSave();
      const button = document.getElementById('toggleAutoSave');
      if (isEnabled) {
        button.textContent = '비활성화';
        button.style.backgroundColor = '#dc3545';
        button.style.color = 'white';
      } else {
        button.textContent = '활성화';
        button.style.backgroundColor = '#28a745';
        button.style.color = 'white';
      }
    }
    
    function clearAutoSaveData() {
      if (confirm('저장된 모든 자동 저장 데이터를 삭제하시겠습니까?')) {
        clearAllAutoSaveData();
        alert('자동 저장 데이터가 삭제되었습니다.');
      }
    }
    
    // 페이지 로드 시 자동 저장 상태 표시
    window.addEventListener('load', () => {
      // 자동 저장이 비활성화된 경우 버튼 상태 업데이트
      if (typeof autoSaveEnabled !== 'undefined' && !autoSaveEnabled) {
        const button = document.getElementById('toggleAutoSave');
        if (button) {
          button.textContent = '활성화';
          button.style.backgroundColor = '#28a745';
          button.style.color = 'white';
        }
      }
    });
  </script>
  <script src="/app.js"></script>
</body>
</html>
